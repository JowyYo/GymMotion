<app-page-loading [isLoading]="isLoading"/>
<div class="login-container">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <h2>Iniciar sesión</h2>
        <div class="mb-3">
            <label class="form-label" for="email">Email</label>
            <input id="email"
                class="form-control"
                type="text"
                formControlName="email"
                placeholder="Ingrese su email" 
                [ngClass]="{'is-invalid': _sharedService.hasErrors(loginForm, 'email', 'required') || _sharedService.hasErrors(loginForm, 'email', 'email')}"/>
            @if(_sharedService.hasErrors(loginForm, 'email', 'required')) {
                <div class="error">
                    El email es obligatorio.
                </div>
            }
            @if(_sharedService.hasErrors(loginForm, 'email', 'email')) {
                <div class="error">
                    Formato incorrecto.
                </div>
            }
        </div>
        <div class="mb-3">
            <label class="form-label" for="password">Contraseña</label>
            <input id="password"
                class="form-control"
                type="password"
                formControlName="password"
                placeholder="Ingrese su contraseña"
                [ngClass]="{'is-invalid': _sharedService.hasErrors(loginForm, 'password', 'required') || _sharedService.hasErrors(loginForm, 'password', 'minlength')}"
            />
            @if(_sharedService.hasErrors(loginForm, 'password', 'required')) {
                <div class="error">
                    La contraseña es obligatoria.
                </div>
            }
            @if(_sharedService.hasErrors(loginForm, 'password', 'minlength')) {
                <div class="error">
                    La contraseña tiene que tener mímino 6 carácteres.
                </div>
            }
        </div>
        <div *ngIf="errorMessage" class="error">
            {{ errorMessage }}
        </div>
        <button type="submit" class="btn btn-primary">Iniciar sesión</button>
    </form>
</div>
  