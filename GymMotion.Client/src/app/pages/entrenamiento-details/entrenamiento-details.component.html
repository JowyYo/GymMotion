<div class="container">
	@if (showAlert) {
		<app-alert [alertType]="alertType" [message]="alertMessage" (onCloseAlert)="showAlert = false"/>
	}

	<form [formGroup]="entrenamientoForm" class="row g-3 needs-validation" (submit)="save()">
		<div class="mb-3 buttons-header">
			<fa-icon [icon]="faArrowLeft" (click)="goBack()"></fa-icon>
			<button type="submit" class="btn btn-primary float-right">Guardar</button>
		</div>
		<div class="mb-3">
			<label for="name" class="form-label">Nombre *</label>
			<input type="text" 
			[ngClass]="{'is-invalid': _sharedService.hasErrors(entrenamientoForm, 'name', 'required')}"
			class="form-control" 
			id="name" 
			formControlName="name">
			@if (_sharedService.hasErrors(entrenamientoForm, 'name', 'required')){
			<span class="text-danger">Nombre es obligatorio</span>
			}
		</div>
		<div class="mb-3">
			<label for="description" class="form-label">Descripción</label>
			<textarea class="form-control"
			id="description" 
			formControlName="description"></textarea>
		</div>
		<div formArrayName="ejercicios">
			<div *ngFor="let ejercicio of ejercicios.controls; let i = index">
				<app-ejercicio-container [ejercicioForm]="ejercicio" [ejerciciosList]="ejerciciosList" [ejercicioIndex]="i" (ejercicioToRemove)="removeEjercicio($event)"/>
			</div>
		</div>
		<div class="mb-3">
			<button type="button" class="btn btn-primary" (click)="addEjercicio()">Añadir ejercicio</button>
		</div>
	</form>
</div>